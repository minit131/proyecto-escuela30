<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#87CEEB">
    <title>Portal del Colegio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Modal de Login -->
    <div id="login-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modal-title">Iniciar Sesi√≥n</h2>
            
            <!-- Formulario de Login -->
            <div id="login-form" class="auth-form">
                <input type="text" id="login-username" placeholder="Usuario">
                <input type="password" id="login-password" placeholder="Contrase√±a">
                <button onclick="login()">Iniciar Sesi√≥n</button>
                <p>¬øNo tienes cuenta? <a href="#" onclick="showRegister()">Reg√≠strate aqu√≠</a></p>
            </div>

            <!-- Formulario de Registro -->
            <div id="register-form" class="auth-form hidden">
                <input type="text" id="register-username" placeholder="Usuario">
                <input type="email" id="register-email" placeholder="Email">
                <input type="password" id="register-password" placeholder="Contrase√±a">
                <input type="password" id="register-confirm" placeholder="Confirmar contrase√±a">
                <select id="register-role">
                    <option value="alumno">Alumno</option>
                    <option value="docente">Docente</option>
                    <option value="padre">Padre</option>
                </select>
                <button onclick="register()">Registrarse</button>
                <p>¬øYa tienes cuenta? <a href="#" onclick="showLogin()">Inicia sesi√≥n aqu√≠</a></p>
            </div>
        </div>
    </div>

    <!-- Barra de navegaci√≥n superior -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üéì Colegio 30 Victor Mercante</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#noticias">Noticias</a></li>
                <li><a href="#contacto">Contacto</a></li>
                <li id="auth-button"><a href="#" onclick="openLoginModal()">Iniciar Sesi√≥n</a></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Panel de usuario logueado -->
    <div id="user-panel" class="user-panel hidden">
        <div class="user-info">
            <span id="welcome-user">Bienvenido, Usuario</span>
            <span id="user-role" class="role-badge">Usuario</span>
        </div>
        <div class="user-actions">
            <button id="admin-panel-btn" class="hidden" onclick="toggleAdminPanel()">Panel Publicar</button>
            <button onclick="logout()">Cerrar Sesi√≥n</button>
        </div>
    </div>

    <!-- Contenido principal -->
    <main class="main-content">
        <!-- Panel de administraci√≥n / publicaci√≥n -->
        <div id="admin-panel" class="admin-panel hidden">
            <div class="admin-header">
                <h3>üìù Publicar Noticias</h3>
                <button class="close-btn" onclick="toggleAdminPanel()">√ó</button>
            </div>
            <div id="news-tab" class="tab-content">
                <div class="admin-form">
                    <h4>Publicar Nueva Noticia</h4>
                    <input type="text" id="news-title" placeholder="T√≠tulo de la noticia">
                    <textarea id="news-content" placeholder="Contenido de la noticia" rows="4"></textarea>
                    <div class="file-uploads">
                        <div class="upload-group">
                            <label for="image-upload">üì∑ Subir Imagen:</label>
                            <input type="file" id="image-upload" accept="image/*">
                        </div>
                        <div class="upload-group">
                            <label for="audio-upload">üéµ Subir Audio:</label>
                            <input type="file" id="audio-upload" accept="audio/*">
                        </div>
                    </div>
                    <button onclick="addNews()" class="publish-btn">üì§ Publicar Noticia</button>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de bienvenida -->
        <section class="hero-section" id="inicio">
            <div class="hero-content">
                <h1>üåü Bienvenidos al Portal del Colegio</h1>
                <p>Mantente informado sobre todas las novedades de nuestra instituci√≥n educativa</p>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number" id="news-count">2</span>
                        <span class="stat-label">Noticias</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">500+</span>
                        <span class="stat-label">Estudiantes</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">25</span>
                        <span class="stat-label">Profesores</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de noticias -->
        <section class="news-section" id="noticias">
            <div class="container">
                <h2>üì∞ √öltimas Noticias</h2>
                <div id="news-container" class="news-grid">
                    <div class="news-card" data-news-id="1">
                        <div class="news-header">
                            <h3>üéì Bienvenida al nuevo a√±o escolar</h3>
                        </div>
                        <p>Damos la bienvenida a todos nuestros estudiantes al nuevo per√≠odo acad√©mico 2025.</p>
                        <div class="news-meta">
                            <span class="date">üìÖ 10 de Agosto, 2025</span>
                            <span class="author">üë§ Administrador</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" id="contacto">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>üìç Contacto</h3>
                    <p>üìß info@colegiovictor.edu.ar</p>
                    <p>üìû (011) 4567-8900</p>
                    <p>üè† Andonaegui 2231, Buenos Aires</p>
                </div>
                <div class="footer-section">
                    <h3>‚è∞ Horarios</h3>
                    <p>üìÖ Lunes a Viernes: 7:00 - 18:00</p>
                    <p>üìÖ S√°bados: 8:00 - 12:00</p>
                </div>
                <div class="footer-section">
                    <h3>üåê S√≠guenos</h3>
                    <p>üì± Facebook | Instagram | Twitter</p>
                    <p>üíª Portal Educativo Online</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Colegio 30 Victor Mercante. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        let users = JSON.parse(localStorage.getItem('school_users') || '{}');
        let currentUser = null;

        if (Object.keys(users).length === 0) {
            users['admin'] = {
                username: 'admin',
                email: 'admin@colegio.edu',
                password: 'admin123',
                role: 'admin',
                created: new Date().toISOString()
            };
            localStorage.setItem('school_users', JSON.stringify(users));
        }

        function openLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
            showLogin();
        }
        function closeModal() {
            document.getElementById('login-modal').classList.add('hidden');
        }
        function showLogin() {
            document.getElementById('modal-title').textContent = 'Iniciar Sesi√≥n';
            document.getElementById('login-form').classList.remove('hidden');
            document.getElementById('register-form').classList.add('hidden');
        }
        function showRegister() {
            document.getElementById('modal-title').textContent = 'Crear Cuenta';
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('register-form').classList.remove('hidden');
        }

        function login() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            if (users[username] && users[username].password === password) {
                currentUser = users[username];
                updateUI();
                closeModal();
                alert('¬°Bienvenido, ' + username + '!');
            } else {
                alert('Usuario o contrase√±a incorrectos');
            }
        }
        function register() {
            const username = document.getElementById('register-username').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            const role = document.getElementById('register-role').value;

            if (!username || !email || !password || !confirm) {
                alert('Por favor, completa todos los campos');
                return;
            }
            if (password !== confirm) {
                alert('Las contrase√±as no coinciden');
                return;
            }
            if (users[username]) {
                alert('El usuario ya existe');
                return;
            }
            users[username] = { username, email, password, role, created: new Date().toISOString() };
            localStorage.setItem('school_users', JSON.stringify(users));
            alert('Cuenta creada exitosamente. Ahora puedes iniciar sesi√≥n.');
            showLogin();
        }
        function logout() {
            currentUser = null;
            updateUI();
        }

        function updateUI() {
            const authButton = document.getElementById('auth-button');
            const userPanel = document.getElementById('user-panel');
            const adminPanelBtn = document.getElementById('admin-panel-btn');

            if (currentUser) {
                authButton.classList.add('hidden');
                userPanel.classList.remove('hidden');
                document.getElementById('welcome-user').textContent = `Bienvenido, ${currentUser.username}`;
                document.getElementById('user-role').textContent = currentUser.role;
                document.getElementById('user-role').className = `role-badge ${currentUser.role}`;
                
                if (currentUser.role === 'docente' || currentUser.role === 'admin') {
                    adminPanelBtn.classList.remove('hidden');
                } else {
                    adminPanelBtn.classList.add('hidden');
                }
            } else {
                authButton.classList.remove('hidden');
                userPanel.classList.add('hidden');
                document.getElementById('admin-panel').classList.add('hidden');
            }
        }

        function toggleAdminPanel() {
            document.getElementById('admin-panel').classList.toggle('hidden');
        }

        function toggleMenu() {
            document.querySelector('.nav-menu').classList.toggle('active');
        }

        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>
